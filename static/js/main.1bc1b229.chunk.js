(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),o=n(9),s=n.n(o),a=(n(14),n(7)),u=n(3),r=n(6),l=n(2),j=n(0),d=function(e){var t=Object(c.useState)(e.editMode),n=Object(u.a)(t,2),i=n[0],o=n[1],s=e.value,a=Object(c.useRef)();function r(){o(!1),e.onValueChange(a.current.value)}return Object(j.jsxs)(j.Fragment,{children:[i?Object(j.jsx)("input",{type:"text",defaultValue:s,ref:a,onBlur:r,onKeyDown:function(e){"Entrer"===e.key&&r()}}):s,Object(j.jsx)("button",{title:"Modifier",className:"button-icon",onClick:function(){o((function(e){return!e}))},children:i?"\u2714":"\u270f"})]})},b=function(e){var t=e.task,n=t.title,c=t.isDone;return Object(j.jsx)("li",{children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"checkbox",defaultChecked:c,onChange:function(){e.onUpdate(e.task,{isDone:!c})}}),Object(j.jsx)(d,{value:n,editMode:!1,onValueChange:function(t){e.onUpdate(e.task,{title:t})}}),Object(j.jsx)("button",{title:"Supprimer",className:"button-icon",onClick:function(){e.onRemove(e.task)},children:"\u274c"})]})})},f=function(e){var t=Object(c.useRef)();return Object(j.jsx)("div",{className:"input",children:Object(j.jsxs)("form",{action:"#",onSubmit:function(n){n.preventDefault();var c=t.current.value.trim();""!==c&&(e.onAddTask(c),t.current.value="")},children:[Object(j.jsx)("input",{type:"text",placeholder:"nouvelle tache",ref:t,className:"button"}),Object(j.jsx)("span",{className:"Ajou",children:Object(j.jsx)("button",{type:"submit",className:"Ajouter",children:"Ajouter"})})]})})};var O=function(e){var t=Object(c.useState)(e.todolist),n=Object(u.a)(t,2),i=n[0],o=n[1];function s(e,t){var n=i.tasks.indexOf(e);if(n>-1){var c=Object(l.a)(Object(l.a)({},e),t);i.tasks.splice(n,1,c),o(Object(l.a)({},i))}}function a(e){var t=i.tasks.indexOf(e);t>-1&&(i.tasks.splice(t,1),o(Object(l.a)({},i)))}Object(c.useEffect)((function(){e.onChange(i)}),[i,e]);var O=i.tasks.filter((function(e){return!0===e.isDone})).length;return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"TodoApp",children:[Object(j.jsx)("h1",{children:Object(j.jsx)(d,{value:i.title,editMode:!1,onValueChange:function(e){i.title=e,o(Object(l.a)({},i))}})}),Object(j.jsx)("button",{title:"Supprimer cette liste",className:"button-icon",onClick:function(){e.onSup(i)},children:"\u274c"}),Object(j.jsx)(f,{onAddTask:function(e){i.tasks.push({id:Object(r.a)(),title:e,isDone:!1}),o(Object(l.a)({},i))}}),Object(j.jsxs)("p",{className:"ecritureee",children:[O,"/",i.tasks.length," effectuer"]}),Object(j.jsx)("ul",{children:i.tasks.map((function(e,t){return Object(j.jsx)(b,{task:e,onUpdate:s,onRemove:a},e.id)}))})]})})},h="todolist",p={save:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];window.localStorage.setItem(h,JSON.stringify(e))},load:function(){return JSON.parse(window.localStorage.getItem(h))||[]}},v=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],i=t[1];function o(e){var t=n.findIndex((function(t){return t.id===e.id}));t>-1&&(n.splice(t,1,e),p.save(n))}function s(e){var t=n.findIndex((function(t){return t.id===e.id}));t>-1?(n.splice(t,1),i(Object(a.a)(n))):console.log(t,e)}return Object(c.useEffect)((function(){var e=p.load();i(Object(a.a)(e))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"TODO LIST"}),Object(j.jsx)("div",{className:"Ajou",children:Object(j.jsx)("button",{className:"buttonAdd",onClick:function(){n.push({id:Object(r.a)(),title:"Nouvelle liste \u2026",tasks:[]}),i(Object(a.a)(n))},children:"\u2795 Ajouter une nouvelle liste"})}),n.map((function(e){return Object(j.jsx)(O,{onChange:o,todolist:e,onSup:s},e.id)}))]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),o(e),s(e)}))};s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),x()}},[[16,1,2]]]);
//# sourceMappingURL=main.1bc1b229.chunk.js.map